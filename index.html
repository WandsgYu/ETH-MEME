<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profit Tracker</title>
    <style>
      /* 全局样式 */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #1e1e2f, #2c2c3f);
        color: #ffffff;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        overflow: hidden;
      }

      /* 容器样式 */
      .container {
        background: rgba(44, 44, 63, 0.9);
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        padding: 40px;
        width: 90%;
        max-width: 1200px; /* 增大最大宽度 */
        min-width: 500px;
        height: auto;
        max-height: 90vh;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 32px; /* 增大间距 */
        backdrop-filter: blur(10px);
      }

      /* 卡片通用样式 */
      .card {
        background: rgba(57, 57, 77, 0.8);
        border-radius: 12px;
        padding: 32px; /* 增大内边距 */
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
      }

      /* 比例卡片样式 */
      .ratio-card {
        text-align: center;
      }

      .ratio-card h2 {
        margin: 0;
        font-size: 48px; /* 增大字体 */
        font-weight: 600;
        color: #ffd700;
      }

      .ratio-card span {
        font-size: 64px; /* 增大字体 */
        font-weight: bold;
        color: #87ceeb;
      }

      /* 利润卡片样式 */
      .profit-card {
        position: relative;
      }

      .profit-card h2 {
        margin: 0 0 24px 0; /* 增大间距 */
        font-size: 40px; /* 增大字体 */
        font-weight: 600;
        color: #ffd700;
      }

      .profit-card .price {
        position: absolute;
        top: 32px; /* 调整位置 */
        right: 32px; /* 调整位置 */
        font-size: 36px; /* 增大字体 */
        color: #87ceeb;
      }

      .profit-card p {
        margin: 0;
        font-size: 36px; /* 增大字体 */
        color: #ffffff;
      }

      /* 总利润样式 */
      .total-profit {
        text-align: center;
      }

      .total-profit p {
        margin: 0;
        font-size: 56px; /* 增大字体 */
        font-weight: bold;
        color: #32cd32;
      }

      .converted-profit {
        margin-top: 16px; /* 增大间距 */
        font-size: 40px; /* 增大字体 */
        color: #87ceeb;
      }

      /* 响应式设计 */
      @media (max-width: 600px) {
        .container {
          padding: 24px;
          gap: 24px;
        }

        .ratio-card h2 {
          font-size: 36px;
        }

        .ratio-card span {
          font-size: 48px;
        }

        .profit-card h2 {
          font-size: 32px;
        }

        .profit-card .price {
          font-size: 28px;
        }

        .profit-card p {
          font-size: 28px;
        }

        .total-profit p {
          font-size: 40px;
        }

        .converted-profit {
          font-size: 28px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- 总利润卡片 -->
      <div class="card total-profit">
        <p id="totalProfit">Total Profit (USD): Calculating...</p>
        <p class="converted-profit" id="totalProfitCny">
          Converted to CNY: Calculating...
        </p>
      </div>
  
      <!-- ETH 利润卡片 -->
      <div class="card profit-card" id="ethProfit">
        <h2>ETH</h2>
        <span class="price" id="ethPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- PEPE 利润卡片 -->
      <div class="card profit-card" id="pepeProfit">
        <h2>PEPE</h2>
        <span class="price" id="pepePrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- GOAT 利润卡片 -->
      <div class="card profit-card" id="goatProfit">
        <h2>GOAT</h2>
        <span class="price" id="goatPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- PNUT 利润卡片 -->
      <div class="card profit-card" id="pnutProfit">
        <h2>PNUT</h2>
        <span class="price" id="pnutPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- MEME 利润卡片 -->
      <div class="card profit-card" id="memeProfit">
        <h2>MEME</h2>
        <span class="price" id="memePrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- POPCAT 利润卡片 -->
      <div class="card profit-card" id="popcatProfit">
        <h2>POPCAT</h2>
        <span class="price" id="popcatPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- 1000CAT 利润卡片 -->
      <div class="card profit-card" id="cat1000Profit">
        <h2>1000CAT</h2>
        <span class="price" id="cat1000Price">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- 1MBABYDOGE 利润卡片 -->
      <div class="card profit-card" id="babyDoge1mProfit">
        <h2>1MBABYDOGE</h2>
        <span class="price" id="babyDoge1mPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- HMSTR 利润卡片 -->
      <div class="card profit-card" id="hmstrProfit">
        <h2>HMSTR</h2>
        <span class="price" id="hmstrPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- PENGU 利润卡片 -->
      <div class="card profit-card" id="penguProfit">
        <h2>PENGU</h2>
        <span class="price" id="penguPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
  
      <!-- WIF 利润卡片 -->
      <div class="card profit-card" id="wifProfit">
        <h2>WIF</h2>
        <span class="price" id="wifPrice">Price: $0.00</span>
        <p>Profit: Calculating...</p>
      </div>
    </div>
  
    <script>
      const exchangeRate = 7.21; // USD to CNY
  
      // 仓位信息
      const ETH = {
        symbol: "ETH",
        usdtValue: 2000,
        entryPrice: 3262,
        isShort: true,
      };
      const PEPE = {
        symbol: "PEPE",
        usdtValue: 200,
        entryPrice: 0.000013,
        isShort: false,
      };
      const GOAT = {
        symbol: "GOAT",
        usdtValue: 200,
        entryPrice: 0.1968,
        isShort: false,
      };
      const PNUT = {
        symbol: "PNUT",
        usdtValue: 200,
        entryPrice: 0.2579,
        isShort: false,
      };
      const MEME = {
        symbol: "MEME",
        usdtValue: 200,
        entryPrice: 0.007159,
        isShort: false,
      };
      const POPCAT = {
        symbol: "POPCAT",
        usdtValue: 200,
        entryPrice: 0.3265,
        isShort: false,
      };
      const CAT1000 = {
        symbol: "1000CAT",
        usdtValue: 200,
        entryPrice: 0.0161,
        isShort: false,
      };
      const BABYDOGE1M = {
        symbol: "1MBABYDOGE",
        usdtValue: 200,
        entryPrice: 0.0020868,
        isShort: false,
      };
      const HMSTR = {
        symbol: "HMSTR",
        usdtValue: 200,
        entryPrice: 0.002712,
        isShort: false,
      };
      const PENGU = {
        symbol: "PENGU",
        usdtValue: 200,
        entryPrice: 0.01445,
        isShort: false,
      };
      const WIF = {
        symbol: "WIF",
        usdtValue: 200,
        entryPrice: 1.165,
        isShort: false,
      };
  
      const updateInterval = 500; // ms
      const apiUrlBase =
        "https://api.bitget.com/api/mix/v1/market/ticker?symbol=";
  
      async function fetchPrice(symbol) {
        try {
          const response = await fetch(
            `${apiUrlBase}${symbol}USDT_UMCBL` // 使用模板字符串
          );
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const data = await response.json();
          return parseFloat(data.data.last);
        } catch (error) {
          console.error(`Error fetching price for ${symbol}:`, error);
          return null;
        }
      }
  
      async function updateProfit() {
        let totalProfitUsd = 0;
  
        // 更新每个仓位的利润
        const updatePositionProfit = async (position, elementId) => {
          const currentPrice = await fetchPrice(position.symbol);
          if (currentPrice !== null) {
            const positionSize = position.usdtValue / position.entryPrice; // 计算持仓量
            const profit = position.isShort
              ? (position.entryPrice - currentPrice) * positionSize
              : (currentPrice - position.entryPrice) * positionSize;
            totalProfitUsd += profit;
  
            // 更新价格和利润显示
            document.getElementById(
              `${elementId}Price`
            ).textContent = `Price: $${currentPrice.toFixed(7)}`; // 支持小币种价格显示
            document.getElementById(
              `${elementId}Profit`
            ).querySelector("p").textContent = `Profit: $${profit.toFixed(1)}`;
          }
        };
  
        // 更新每个仓位
        await updatePositionProfit(ETH, "eth");
        await updatePositionProfit(PEPE, "pepe");
        await updatePositionProfit(GOAT, "goat");
        await updatePositionProfit(PNUT, "pnut");
        await updatePositionProfit(MEME, "meme");
        await updatePositionProfit(POPCAT, "popcat");
        await updatePositionProfit(CAT1000, "cat1000");
        await updatePositionProfit(BABYDOGE1M, "babyDoge1m");
        await updatePositionProfit(HMSTR, "hmstr");
        await updatePositionProfit(PENGU, "pengu");
        await updatePositionProfit(WIF, "wif");
  
        // 更新总利润
        const totalProfitCny = totalProfitUsd * exchangeRate;
        document.getElementById(
          "totalProfit"
        ).textContent = `USD: $${totalProfitUsd.toFixed(0)}`;
        document.getElementById(
          "totalProfitCny"
        ).textContent = `CNY: ¥${totalProfitCny.toFixed(0)}`;
  
        // 更新标题
        document.title = `¥${totalProfitCny.toFixed(          0        )}`;
      }
  
      // 每 0.5 秒更新一次利润
      setInterval(updateProfit, updateInterval);
  
      // 初始加载
      updateProfit();
    </script>
  </body>
</html>
